<!DOCTYPE html>
<html>
  <head>
    <script type="text/javascript" src="https://cindyjs.org/dist/latest/Cindy.js"></script>
    <title>Julia-ish fractal</title>
    <link rel="stylesheet" href="css/julia.css">
  </head>

  <body>
    <div id="CSCanvas"></div>

    <script id="csdraw" type="text/x-cindyscript">
        N=100;
        colorplot(
            a = complex(A);
            b = complex(B);
            z = complex(#);
            n = 0;
            r = 0; //remainder
            repeat(N,k,
                if(|z| <= 25,
                  z=z^2+b;
                  n = k;
                  );
            );
            if(n==N,grey(0),blue(|(n/N)^.25|)+red(|((n+15)/N)^1.0|)));
    </script>

    <script type="text/javascript">
      var width = window.innerWidth
      var height = window.innerHeight
      CindyJS({
        scripts: "cs*",
        autoplay: true,
        geometry: [
          {name:"A", kind:"P", type:"Free", pos:[-1,0]},
          {name:"B", kind:"P", type:"Free", pos:[1,0]}
        ],
        ports: [{
          id: "CSCanvas",
          width: width,
          height: height,
          transform: [{
            visibleRect: [-2, 2, 2, -2]
          }]
        }],
        
      });
    </script>
  </body>
</html>